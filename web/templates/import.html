<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TMDB 导入 - NFO 编辑器</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/import.css') }}">
</head>
<body>
    <div class="import-container">
        <div class="import-card">
            <h1>TMDB 导入</h1>

            <!-- 进度条 -->
            <div class="progress-bar">
                <div class="step active" data-step="1">1.选择类型</div>
                <div class="step" data-step="2">2.输入ID</div>
                <div class="step" data-step="3">3.选季集</div>
                <div class="step" data-step="4">4.确认</div>
            </div>

            <!-- 步骤 1: 选择类型 -->
            <div class="step-content active" id="step1">
                <h2>选择媒体类型</h2>
                <div class="type-buttons">
                    <button class="type-btn" data-type="movie" aria-label="选择电影类型">
                        <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M4.5 4.5a3 3 0 0 0-3 3v9a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3v-9a3 3 0 0 0-3-3H4.5Zm1.405 2.235a.75.75 0 0 0-1.06 1.06L6.97 9.44l-2.125 2.124a.75.75 0 0 0 1.06 1.061l2.125-2.125 2.125 2.125a.75.75 0 0 0 1.06-1.06L9.06 9.439l2.125-2.124a.75.75 0 1 0-1.06-1.061L7.999 8.379 5.875 6.254l.03.031Zm8.625 0a.75.75 0 0 0-1.06 1.06l2.125 2.124-2.125 2.124a.75.75 0 0 0 1.06 1.061l2.125-2.125 2.125 2.125a.75.75 0 0 0 1.06-1.06l-2.124-2.124 2.124-2.125a.75.75 0 0 0-1.06-1.061l-2.125 2.125-2.125-2.125ZM4.5 13.5a.75.75 0 0 1 .75.75v2.25h2.25a.75.75 0 0 1 0 1.5h-3a.75.75 0 0 1-.75-.75v-3a.75.75 0 0 1 .75-.75Zm10.5 0a.75.75 0 0 1 .75.75v3a.75.75 0 0 1-.75.75h-3a.75.75 0 0 1 0-1.5h2.25v-2.25a.75.75 0 0 1 .75-.75Z" />
                        </svg>
                        <span class="label">电影</span>
                    </button>
                    <button class="type-btn" data-type="tv" aria-label="选择电视剧类型">
                        <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor">
                            <path d="M19.5 6h-15v12h15V6Zm-15-1.5a1.5 1.5 0 0 0-1.5 1.5v12a1.5 1.5 0 0 0 1.5 1.5h15a1.5 1.5 0 0 0 1.5-1.5v-12a1.5 1.5 0 0 0-1.5-1.5h-15ZM6.75 9a.75.75 0 0 1 .75-.75h2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-2.25A.75.75 0 0 1 6.75 9Zm6 0a.75.75 0 0 1 .75-.75h2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-2.25A.75.75 0 0 1 12.75 9ZM6.75 13.5a.75.75 0 0 1 .75-.75h2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1-.75-.75v-2.25Zm6 0a.75.75 0 0 1 .75-.75h2.25a.75.75 0 0 1 .75.75v2.25a.75.75 0 0 1-.75.75h-2.25a.75.75 0 0 1-.75-.75v-2.25Z" />
                        </svg>
                        <span class="label">电视剧</span>
                    </button>
                </div>
            </div>

            <!-- 步骤 2: 输入 TMDB ID -->
            <div class="step-content" id="step2">
                <h2>输入 TMDB ID</h2>
                <div class="input-group">
                    <input type="number" id="tmdbIdInput" placeholder="例如: 12345" min="1" aria-label="TMDB ID">
                    <button id="validateBtn" aria-label="验证TMDB ID">验证</button>
                </div>
                <div id="validateResult"></div>
                <button id="step2Next" class="btn-primary" style="display:none;">下一步</button>
                <button id="step2Back" class="btn-secondary">返回</button>
            </div>

            <!-- 步骤 3: 选择季集（仅电视剧） -->
            <div class="step-content" id="step3">
                <h2>选择季集</h2>
                <div class="season-options">
                    <label>
                        <input type="radio" name="importType" value="season" checked>
                        导入整季信息
                    </label>
                    <label>
                        <input type="radio" name="importType" value="episode">
                        导入单集
                    </label>
                </div>
                <div id="seasonList" class="season-list"></div>
                <div id="episodeInputs" class="episode-inputs" style="display:none;">
                    <label>季数: <input type="number" id="seasonNum" min="1"></label>
                    <label>集数: <input type="number" id="episodeNum" min="1"></label>
                </div>
                <button id="step3Next" class="btn-primary">下一步</button>
                <button id="step3Back" class="btn-secondary">返回</button>
            </div>

            <!-- 步骤 4: 确认导入 -->
            <div class="step-content" id="step4">
                <h2>确认导入</h2>
                <div id="importSummary"></div>
                <button id="confirmImport" class="btn-primary">确认导入</button>
                <button id="step4Back" class="btn-secondary">返回</button>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/import.js') }}"></script>
</body>
</html>
